{% extends "bootstrap/base.html" %}
{% block html_attribs %} lang='en' {% endblock %}
{% block title %}Halloween Photobook List{% endblock %}

{% block navbar %}
<!-- The nav bar lives here -->
<div class="navbar navbar-fixed-top">
</div>
{% endblock %}

{% block content %}
<!-- The body of the webpage lives here -->
  <div class="container">
      <div class="row">
          <div class="col-12-xs">
              <!-- Website header -->
              <h3>Halloween Photo Bucket 2021</h3>
              <p>Created: {{ my_bucket.creation_date | datetimeformat }}</p>

              <!--Alert user that their photo has been uploaded.-->
              {% with messages = get_flashed_messages() %}
                {% if messages %}
                <p class="bg-info" style="padding:15px;">
                {% for message in messages %}
                    {{ message }}<br>
                {% endfor %}
                </p>
              {% endif %}
            {% endwith %}

              <hr>
          </div>
          <!--File upload form-->
          <form class="upload-form" action="/upload" method="post" enctype="multipart/form-data">
            <!--Choose file to upload-->
        <p><input type="file" name="file"></p>
        <button type="submit" name="submit" class="btn btn-primary">Upload</button>
        </form>
        <hr>


    </div>
    <table class="table table-striped">
        <tr>
            <th>Filename</th>
            <th>Last Modified</th>
            <th>Type</th>
        </tr>
            {% for f in files %}
        <tr>
            <td>{{ f.key }}</td>
            <td>{{ f.last_modified | datetimeformat }}</td>
            <td>{{ f.key | file_type }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
</div>
{% endblock %}